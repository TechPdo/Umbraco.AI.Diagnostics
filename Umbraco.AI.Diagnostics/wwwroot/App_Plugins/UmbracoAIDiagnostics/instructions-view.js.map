{"version":3,"file":"instructions-view.js","sources":["../../../Client/src/instructions-view.ts"],"sourcesContent":["import { UmbElementMixin } from '@umbraco-cms/backoffice/element-api';\r\nimport { LitElement, html, css, customElement } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umbraco-ai-diagnostics-instructions-view')\r\nexport class UmbracoAIDiagnosticsInstructionsViewElement extends UmbElementMixin(LitElement) {\r\n\r\n    render() {\r\n        return html`\r\n      <uui-box headline=\"Quick Start ‚Äî AI Diagnostics\">\r\n        <div class=\"content\">\r\n          <h2>Quick Start Guide ‚Äî Umbraco.AI.Diagnostics</h2>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>‚öôÔ∏è Prerequisites</h3>\r\n            <ul>\r\n              <li>Umbraco 17+ project</li>\r\n              <li>.NET 10 SDK</li>\r\n              <li>Node.js 18+ (for frontend build)</li>\r\n              <li>An AI provider key or local Ollama instance</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üì¶ Install Package</h3>\r\n            <p><strong>Recommended ‚Äî NuGet:</strong></p>\r\n            <uui-code-block language=\"bash\">dotnet add package Umbraco.AI.Diagnostics</uui-code-block>\r\n\r\n            <p><strong>Or clone &amp; build:</strong></p>\r\n            <uui-code-block language=\"bash\">\r\ngit clone https://github.com/yourusername/Umbraco.AI.Diagnostics.git\r\ncd Umbraco.AI.Diagnostics\r\n./build.sh    # or build.bat on Windows\r\n            </uui-code-block>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üîí Configure AI Provider</h3>\r\n            <p>Add to <code>appsettings.json</code>. Example ‚Äî OpenAI:</p>\r\n            <uui-code-block language=\"json\">\r\n{\r\n  \"Umbraco\": {\r\n    \"AI\": {\r\n      \"Diagnostics\": {\r\n        \"AIProvider\": \"OpenAI\",\r\n        \"OpenAI\": {\r\n          \"ApiKey\": \"sk-your-api-key-here\",\r\n          \"Model\": \"gpt-4\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n            </uui-code-block>\r\n\r\n            <p>Example ‚Äî Ollama (local, free):</p>\r\n            <uui-code-block language=\"json\">\r\n{\r\n  \"Umbraco\": {\r\n    \"AI\": {\r\n      \"Diagnostics\": {\r\n        \"AIProvider\": \"Ollama\",\r\n        \"Ollama\": {\r\n          \"Endpoint\": \"http://localhost:11434\",\r\n          \"Model\": \"llama2\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n            </uui-code-block>\r\n\r\n            <p class=\"note\">For Ollama: <code>ollama pull llama2</code> and <code>ollama serve</code>.</p>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üß© Register Services</h3>\r\n            <p>Add the diagnostic services in <code>Program.cs</code>:</p>\r\n            <uui-code-block language=\"csharp\">\r\nusing Umbraco.AI.Diagnostics.Extensions;\r\n\r\nvar builder = WebApplication.CreateBuilder(args);\r\n\r\n// Add after CreateUmbracoBuilder()\r\nbuilder.Services.AddUmbracoAIDiagnostics(builder.Configuration);\r\n\r\n// ... rest of configuration\r\nvar app = builder.Build();\r\napp.Run();\r\n            </uui-code-block>\r\n            <p><strong>Note:</strong> Composer auto-registration is included via <code>AIDiagnosticsComposer</code>.</p>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üõ† Build Frontend (if applicable)</h3>\r\n            <p>If you cloned the repo:</p>\r\n            <uui-code-block language=\"bash\">\r\nnpm install\r\nnpm run build\r\n            </uui-code-block>\r\n            <p>If installed from NuGet, frontend assets are already built and packaged.</p>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üö™ Access the Dashboard</h3>\r\n            <ol>\r\n              <li>Start your Umbraco app</li>\r\n              <li>Log in to the backoffice</li>\r\n              <li>Go to <strong>Settings</strong></li>\r\n              <li>Open <strong>AI Diagnostics</strong></li>\r\n            </ol>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üìä Analyze Logs</h3>\r\n            <ol>\r\n              <li>Select log levels (Error, Critical, Warning)</li>\r\n              <li>Choose time range (1 hour, 24 hours, 7 days)</li>\r\n              <li>Click <em>Analyze Logs</em></li>\r\n              <li>Review AI analysis and download JSON report</li>\r\n            </ol>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üîé What the Report Contains</h3>\r\n            <ul>\r\n              <li><strong>Summary statistics</strong> ‚Äî totals and unique issues</li>\r\n              <li><strong>AI summary</strong> ‚Äî high-level assessment</li>\r\n              <li><strong>Detailed items</strong> ‚Äî likely cause, suggested fixes, links, severity</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>ü©∫ Troubleshooting</h3>\r\n            <ul>\r\n              <li><strong>No logs found:</strong> Ensure <code>umbraco/Logs/</code> exists and contains data for the selected range.</li>\r\n              <li><strong>AI client not configured:</strong> Verify API key and that <code>EnableAI</code> is <code>true</code>.</li>\r\n              <li><strong>Dashboard missing:</strong> Run <code>npm run build</code> and confirm <code>umbraco-package.json</code> is included.</li>\r\n              <li><strong>API errors:</strong> Check quotas, network, and server logs in <code>umbraco/Logs/</code>.</li>\r\n            </ul>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üß∞ Programmatic Usage</h3>\r\n            <p>Consume the analysis service in code:</p>\r\n            <uui-code-block language=\"csharp\">\r\npublic class MyController : Controller\r\n{\r\n    private readonly ILogAnalysisService _logAnalysis;\r\n\r\n    public MyController(ILogAnalysisService logAnalysis) => _logAnalysis = logAnalysis;\r\n\r\n    [HttpGet]\r\n    public async Task<IActionResult> GetDiagnostics()\r\n    {\r\n        var report = await _logAnalysis.AnalyzeLogsAsync(\r\n            logLevels: new List&lt;string&gt; { \"Error\", \"Critical\" },\r\n            timeRange: \"24hours\"\r\n        );\r\n\r\n        return Json(report);\r\n    }\r\n}\r\n            </uui-code-block>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üîß Configuration Reference (examples)</h3>\r\n            <uui-code-block language=\"json\">\r\n{\r\n  \"Umbraco\": {\r\n    \"AI\": {\r\n      \"Diagnostics\": {\r\n        \"LogLevels\": [\"Error\",\"Critical\",\"Warning\"],\r\n        \"MaxBatchSize\": 100,\r\n        \"EnableAI\": true,\r\n        \"AIProvider\": \"OpenAI\"\r\n      }\r\n    }\r\n  }\r\n}\r\n            </uui-code-block>\r\n          </section>\r\n\r\n          <section class=\"instruction-section\">\r\n            <h3>üìö Resources</h3>\r\n            <ul>\r\n              <li><a href=\"https://docs.umbraco.com\" target=\"_blank\">Umbraco Documentation</a></li>\r\n              <li><a href=\"https://docs.umbraco.com/umbraco-cms/extending\" target=\"_blank\">Extending Umbraco</a></li>\r\n              <li><a href=\"https://ollama.ai\" target=\"_blank\">Ollama</a> ‚Äî local model hosting</li>\r\n            </ul>\r\n          </section>\r\n        </div>\r\n      </uui-box>\r\n    `;\r\n    }\r\n\r\n    static styles = css`\r\n    :host {\r\n      display: block;\r\n      padding: var(--uui-size-space-5);\r\n    }\r\n\r\n    .content {\r\n      padding: var(--uui-size-space-4);\r\n    }\r\n\r\n    h2 {\r\n      color: var(--uui-color-interactive);\r\n      margin: 0 0 var(--uui-size-space-5) 0;\r\n      font-size: var(--uui-type-h3-size);\r\n      font-weight: 700;\r\n    }\r\n\r\n    h3 {\r\n      color: var(--uui-color-interactive);\r\n      margin: 0 0 var(--uui-size-space-3) 0;\r\n      font-size: var(--uui-type-h5-size);\r\n      font-weight: 600;\r\n    }\r\n\r\n    .instruction-section {\r\n      margin-bottom: var(--uui-size-space-6);\r\n      padding-bottom: var(--uui-size-space-4);\r\n      border-bottom: 1px solid var(--uui-color-border);\r\n    }\r\n\r\n    .instruction-section:last-child {\r\n      border-bottom: none;\r\n    }\r\n\r\n    p {\r\n      margin: 0 0 var(--uui-size-space-3) 0;\r\n      color: var(--uui-color-text);\r\n      line-height: 1.6;\r\n    }\r\n\r\n    ul, ol {\r\n      margin: var(--uui-size-space-3) 0;\r\n      padding-left: var(--uui-size-space-6);\r\n      color: var(--uui-color-text);\r\n    }\r\n\r\n    li {\r\n      margin-bottom: var(--uui-size-space-2);\r\n      line-height: 1.6;\r\n    }\r\n\r\n    code {\r\n      background: var(--uui-color-surface-alt);\r\n      padding: 2px 6px;\r\n      border-radius: 3px;\r\n      font-family: 'Courier New', monospace;\r\n      font-size: 0.9em;\r\n    }\r\n\r\n    uui-code-block {\r\n      margin: var(--uui-size-space-3) 0;\r\n      white-space: pre-wrap;\r\n    }\r\n\r\n    .endpoint {\r\n      display: flex;\r\n      align-items: center;\r\n      gap: var(--uui-size-space-3);\r\n      padding: var(--uui-size-space-3);\r\n      background: var(--uui-color-surface-alt);\r\n      border-radius: var(--uui-border-radius);\r\n      margin: var(--uui-size-space-3) 0;\r\n    }\r\n\r\n    .method {\r\n      background: var(--uui-color-positive);\r\n      color: white;\r\n      padding: 4px 8px;\r\n      border-radius: 4px;\r\n      font-weight: 600;\r\n      font-size: 0.85em;\r\n    }\r\n\r\n    a {\r\n      color: var(--uui-color-interactive);\r\n      text-decoration: none;\r\n    }\r\n\r\n    a:hover {\r\n      text-decoration: underline;\r\n    }\r\n\r\n    .note {\r\n      color: var(--uui-color-text-alt);\r\n      margin-top: var(--uui-size-space-2);\r\n    }\r\n\r\n    strong {\r\n      font-weight: 600;\r\n      color: var(--uui-color-text-alt);\r\n    }\r\n  `;\r\n}\r\n\r\nexport default UmbracoAIDiagnosticsInstructionsViewElement;\r\n\r\ndeclare global {\r\n    interface HTMLElementTagNameMap {\r\n        'umbraco-ai-diagnostics-instructions-view': UmbracoAIDiagnosticsInstructionsViewElement;\r\n    }\r\n}"],"names":["UmbracoAIDiagnosticsInstructionsViewElement","UmbElementMixin","LitElement","html","css","__decorateClass","customElement","UmbracoAIDiagnosticsInstructionsViewElement_default"],"mappings":";;;;;;;AAIO,IAAMA,IAAN,cAA0DC,EAAgBC,CAAU,EAAE;AAAA,EAEzF,SAAS;AACL,WAAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA2LX;AAwGJ;AAtSaH,EAgMF,SAASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhMPJ,IAANK,EAAA;AAAA,EADNC,EAAc,0CAA0C;AAAA,GAC5CN,CAAA;AAwSb,MAAAO,IAAeP;"}